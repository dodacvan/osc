<?php
/**
 * Mageplaza
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageplaza.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageplaza.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageplaza
 * @package     Mageplaza_Osc
 * @copyright   Copyright (c) 2016 Mageplaza (http://www.mageplaza.com/)
 * @license     https://www.mageplaza.com/LICENSE.txt
 */
?>
<?php $_helper = $block->getHelperConfig(); ?>
<?php if ($block->canShow()): ?>
    <?php $giftwrapAmount = $_helper->getOrderGiftwrapAmount(); ?>
    <!-- Gift wrap for order -->
    <div id="one-step-checkout-order-review-giftwrap">
        <input class="checkbox" type="checkbox"
               name="giftwrap_checkbox"
               id="one-step-checkout-giftwrap-checkbox"
               value="1" <?php echo $block->isUsedGiftwrap() ? 'checked' : ''; ?> />
        <label for="one-step-checkout-giftwrap-checkbox"><?php echo __('Gift wrap'); ?>
            <span><?php echo $this->helper('Magento\Checkout\Helper\Data')->formatPrice($giftwrapAmount); ?></span>
        </label>
    </div>
    <script type="text/javascript">
        //<![CDATA[
        require(['mageplaza/osc/review/giftwrap'], function (MageplazaOscReviewGiftwrap) {
            new MageplazaOscReviewGiftwrap({
                useGiftWrapCheckbox: '#one-step-checkout-giftwrap-checkbox',
                addGiftWrapUrl: '<?php echo $block->getAddGiftWrapUrl()?>'
            });
        });
        //]]>
    </script>
<?php endif; ?>